shadow$provide.module$node_modules$react_overlays$cjs$useRootClose=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");exports.__esModule=!0;exports["default"]=void 0;var _contains=global(require("module$node_modules$dom_helpers$cjs$contains")),_listen=global(require("module$node_modules$dom_helpers$cjs$listen")),_react=require("module$node_modules$react$index"),_useEventCallback=global(require("module$node_modules$react_overlays$node_modules$$restart$hooks$cjs$useEventCallback")),
_warning=global(require("module$node_modules$warning$warning")),_ownerDocument=global(require("module$node_modules$react_overlays$cjs$ownerDocument")),noop=function(){};exports["default"]=function(ref,onRootClose,_temp){_temp=void 0===_temp?{}:_temp;var disabled=_temp.disabled;_temp=_temp.clickTrigger;var clickTrigger=void 0===_temp?"click":_temp,preventMouseRootCloseRef=(0,_react.useRef)(!1),onClose=onRootClose||noop,handleMouseCapture=(0,_react.useCallback)(function(e){var currentTarget=ref&&("current"in
ref?ref.current:ref);(0,_warning["default"])(!!currentTarget,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node");preventMouseRootCloseRef.current=!currentTarget||!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)||0!==e.button||!!(0,_contains["default"])(currentTarget,e.target)},[ref]),handleMouse=(0,_useEventCallback["default"])(function(e){preventMouseRootCloseRef.current||onClose(e)}),handleKeyUp=(0,_useEventCallback["default"])(function(e){27===
e.keyCode&&onClose(e)});(0,_react.useEffect)(function(){if(!disabled&&null!=ref){var currentEvent=window.event,doc=(0,_ownerDocument["default"])(ref&&("current"in ref?ref.current:ref)),removeMouseCaptureListener=(0,_listen["default"])(doc,clickTrigger,handleMouseCapture,!0),removeMouseListener=(0,_listen["default"])(doc,clickTrigger,function(e){e===currentEvent?currentEvent=void 0:handleMouse(e)}),removeKeyupListener=(0,_listen["default"])(doc,"keyup",function(e){e===currentEvent?currentEvent=void 0:
handleKeyUp(e)}),mobileSafariHackListeners=[];"ontouchstart"in doc.documentElement&&(mobileSafariHackListeners=[].slice.call(doc.body.children).map(function(el){return(0,_listen["default"])(el,"mousemove",noop)}));return function(){removeMouseCaptureListener();removeMouseListener();removeKeyupListener();mobileSafariHackListeners.forEach(function(remove){return remove()})}}},[ref,disabled,clickTrigger,handleMouseCapture,handleMouse,handleKeyUp])};module.exports=exports.default}
//# sourceMappingURL=module$node_modules$react_overlays$cjs$useRootClose.js.map
