shadow$provide.module$node_modules$dagre$lib$order$sort=function(global,require,module,exports){function consumeUnsortable(vs,unsortable,index){for(var last;unsortable.length&&(last=_.last(unsortable)).i<=index;)unsortable.pop(),vs.push(last.vs),index++;return index}function compareWithBias(bias){return function(entryV,entryW){return entryV.barycenter<entryW.barycenter?-1:entryV.barycenter>entryW.barycenter?1:bias?entryW.i-entryV.i:entryV.i-entryW.i}}var _=require("module$node_modules$dagre$lib$lodash"),
util=require("module$node_modules$dagre$lib$util");module.exports=function(entries,biasRight){entries=util.partition(entries,function(entry){return _.has(entry,"barycenter")});var sortable=entries.lhs,unsortable=_.sortBy(entries.rhs,function(entry){return-entry.i}),vs=[],sum=0,weight=0,vsIndex=0;sortable.sort(compareWithBias(!!biasRight));vsIndex=consumeUnsortable(vs,unsortable,vsIndex);_.forEach(sortable,function(entry){vsIndex+=entry.vs.length;vs.push(entry.vs);sum+=entry.barycenter*entry.weight;
weight+=entry.weight;vsIndex=consumeUnsortable(vs,unsortable,vsIndex)});biasRight={vs:_.flatten(vs,!0)};weight&&(biasRight.barycenter=sum/weight,biasRight.weight=weight);return biasRight}}
//# sourceMappingURL=module$node_modules$dagre$lib$order$sort.js.map
