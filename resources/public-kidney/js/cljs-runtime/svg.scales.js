goog.provide('svg.scales');

/**
 * @interface
 */
svg.scales.IScale = function(){};

var svg$scales$IScale$i__GT_o$dyn_68046 = (function (_){
var x__4550__auto__ = (((_ == null))?null:_);
var m__4551__auto__ = (svg.scales.i__GT_o[goog.typeOf(x__4550__auto__)]);
if((!((m__4551__auto__ == null)))){
return (m__4551__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4551__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4551__auto__.call(null,_));
} else {
var m__4549__auto__ = (svg.scales.i__GT_o["_"]);
if((!((m__4549__auto__ == null)))){
return (m__4549__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4549__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4549__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.i->o",_);
}
}
});
svg.scales.i__GT_o = (function svg$scales$i__GT_o(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$i__GT_o$arity$1 == null)))))){
return _.svg$scales$IScale$i__GT_o$arity$1(_);
} else {
return svg$scales$IScale$i__GT_o$dyn_68046(_);
}
});

var svg$scales$IScale$o__GT_i$dyn_68049 = (function (_){
var x__4550__auto__ = (((_ == null))?null:_);
var m__4551__auto__ = (svg.scales.o__GT_i[goog.typeOf(x__4550__auto__)]);
if((!((m__4551__auto__ == null)))){
return (m__4551__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4551__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4551__auto__.call(null,_));
} else {
var m__4549__auto__ = (svg.scales.o__GT_i["_"]);
if((!((m__4549__auto__ == null)))){
return (m__4549__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4549__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4549__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.o->i",_);
}
}
});
svg.scales.o__GT_i = (function svg$scales$o__GT_i(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$o__GT_i$arity$1 == null)))))){
return _.svg$scales$IScale$o__GT_i$arity$1(_);
} else {
return svg$scales$IScale$o__GT_i$dyn_68049(_);
}
});

var svg$scales$IScale$in$dyn_68050 = (function (_){
var x__4550__auto__ = (((_ == null))?null:_);
var m__4551__auto__ = (svg.scales.in$[goog.typeOf(x__4550__auto__)]);
if((!((m__4551__auto__ == null)))){
return (m__4551__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4551__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4551__auto__.call(null,_));
} else {
var m__4549__auto__ = (svg.scales.in$["_"]);
if((!((m__4549__auto__ == null)))){
return (m__4549__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4549__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4549__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.in",_);
}
}
});
svg.scales.in$ = (function svg$scales$in(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$in$arity$1 == null)))))){
return _.svg$scales$IScale$in$arity$1(_);
} else {
return svg$scales$IScale$in$dyn_68050(_);
}
});

var svg$scales$IScale$out$dyn_68051 = (function (_){
var x__4550__auto__ = (((_ == null))?null:_);
var m__4551__auto__ = (svg.scales.out[goog.typeOf(x__4550__auto__)]);
if((!((m__4551__auto__ == null)))){
return (m__4551__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4551__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4551__auto__.call(null,_));
} else {
var m__4549__auto__ = (svg.scales.out["_"]);
if((!((m__4549__auto__ == null)))){
return (m__4549__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4549__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4549__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.out",_);
}
}
});
svg.scales.out = (function svg$scales$out(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$out$arity$1 == null)))))){
return _.svg$scales$IScale$out$arity$1(_);
} else {
return svg$scales$IScale$out$dyn_68051(_);
}
});

var svg$scales$IScale$ticks$dyn_68052 = (function (_){
var x__4550__auto__ = (((_ == null))?null:_);
var m__4551__auto__ = (svg.scales.ticks[goog.typeOf(x__4550__auto__)]);
if((!((m__4551__auto__ == null)))){
return (m__4551__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4551__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4551__auto__.call(null,_));
} else {
var m__4549__auto__ = (svg.scales.ticks["_"]);
if((!((m__4549__auto__ == null)))){
return (m__4549__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4549__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4549__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.ticks",_);
}
}
});
svg.scales.ticks = (function svg$scales$ticks(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$ticks$arity$1 == null)))))){
return _.svg$scales$IScale$ticks$arity$1(_);
} else {
return svg$scales$IScale$ticks$dyn_68052(_);
}
});

var svg$scales$IScale$tick_format_specifier$dyn_68053 = (function (_){
var x__4550__auto__ = (((_ == null))?null:_);
var m__4551__auto__ = (svg.scales.tick_format_specifier[goog.typeOf(x__4550__auto__)]);
if((!((m__4551__auto__ == null)))){
return (m__4551__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4551__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4551__auto__.call(null,_));
} else {
var m__4549__auto__ = (svg.scales.tick_format_specifier["_"]);
if((!((m__4549__auto__ == null)))){
return (m__4549__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4549__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4549__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.tick-format-specifier",_);
}
}
});
svg.scales.tick_format_specifier = (function svg$scales$tick_format_specifier(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$tick_format_specifier$arity$1 == null)))))){
return _.svg$scales$IScale$tick_format_specifier$arity$1(_);
} else {
return svg$scales$IScale$tick_format_specifier$dyn_68053(_);
}
});

svg.scales.e10 = Math.sqrt((50));
svg.scales.e5 = Math.sqrt((10));
svg.scales.e2 = Math.sqrt((2));
svg.scales.tick_step = (function svg$scales$tick_step(start,stop,preferred_count){
var step0 = (Math.abs((stop - start)) / (function (){var x__4336__auto__ = (0);
var y__4337__auto__ = preferred_count;
return ((x__4336__auto__ > y__4337__auto__) ? x__4336__auto__ : y__4337__auto__);
})());
var step1 = Math.pow((10),Math.floor((Math.log(step0) / Math.LN10)));
var error = (step0 / step1);
var step = (((error >= svg.scales.e10))?((10) * step1):(((error >= svg.scales.e5))?((5) * step1):(((error >= svg.scales.e2))?((2) * step1):step1
)));
if((stop < start)){
return (- step);
} else {
return step;
}
});
svg.scales.preferred_ticks = (function svg$scales$preferred_ticks(start,stop,preferred_count){
var step = svg.scales.tick_step(start,stop,preferred_count);
return cljs.core.range.cljs$core$IFn$_invoke$arity$3((Math.ceil((start / step)) * step),((Math.floor((stop / step)) * step) + (step / (2))),step);
});
/**
 * Provide a default format specifier for numeric scales
 */
svg.scales.numeric_format_specifier = (function svg$scales$numeric_format_specifier(scale){
var abs_in = cljs.core.map.cljs$core$IFn$_invoke$arity$2(Math.abs,new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(scale));
var abs_step = Math.abs(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(svg.scales.tick_step,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(scale),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994).cljs$core$IFn$_invoke$arity$1(scale))));
if((abs_step < 1.0E-5)){
return "~(~3,1e~)";
} else {
if((cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,abs_in) > (99999))){
return "~(~,1e~)";
} else {
if((abs_step >= (1))){
return "~d";
} else {
if((abs_step >= 0.1)){
return "~1$";
} else {
if((abs_step >= 0.01)){
return "~$";
} else {
if((abs_step >= 0.001)){
return "~3$";
} else {
if((abs_step >= 1.0E-4)){
return "~0,4f";
} else {
return "~0,5f";

}
}
}
}
}
}
}
});
svg.scales.unit_format_specifier = (function svg$scales$unit_format_specifier(unit,scale){

return [svg.scales.numeric_format_specifier(scale),cljs.core.str.cljs$core$IFn$_invoke$arity$1(unit)].join('');
});
svg.scales.percent_format_specifier = (function svg$scales$percent_format_specifier(scale){

return svg.scales.unit_format_specifier("%",scale);
});
svg.scales.scale_ticks = (function svg$scales$scale_ticks(a_scale,tick_count){
return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(svg.scales.preferred_ticks,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(a_scale),tick_count));
});

/**
* @constructor
 * @implements {cljs.core.IRecord}
 * @implements {cljs.core.IKVReduce}
 * @implements {cljs.core.IEquiv}
 * @implements {cljs.core.IHash}
 * @implements {cljs.core.ICollection}
 * @implements {cljs.core.ICounted}
 * @implements {cljs.core.ISeqable}
 * @implements {cljs.core.IMeta}
 * @implements {cljs.core.ICloneable}
 * @implements {cljs.core.IPrintWithWriter}
 * @implements {cljs.core.IIterable}
 * @implements {cljs.core.IWithMeta}
 * @implements {cljs.core.IAssociative}
 * @implements {svg.scales.IScale}
 * @implements {cljs.core.IMap}
 * @implements {cljs.core.ILookup}
*/
svg.scales.Identity = (function (in$,tick_count,__meta,__extmap,__hash){
this.in$ = in$;
this.tick_count = tick_count;
this.__meta = __meta;
this.__extmap = __extmap;
this.__hash = __hash;
this.cljs$lang$protocol_mask$partition0$ = 2230716170;
this.cljs$lang$protocol_mask$partition1$ = 139264;
});
(svg.scales.Identity.prototype.cljs$core$ILookup$_lookup$arity$2 = (function (this__4502__auto__,k__4503__auto__){
var self__ = this;
var this__4502__auto____$1 = this;
return this__4502__auto____$1.cljs$core$ILookup$_lookup$arity$3(null,k__4503__auto__,null);
}));

(svg.scales.Identity.prototype.cljs$core$ILookup$_lookup$arity$3 = (function (this__4504__auto__,k67999,else__4505__auto__){
var self__ = this;
var this__4504__auto____$1 = this;
var G__68003 = k67999;
var G__68003__$1 = (((G__68003 instanceof cljs.core.Keyword))?G__68003.fqn:null);
switch (G__68003__$1) {
case "in":
return self__.in$;

break;
case "tick-count":
return self__.tick_count;

break;
default:
return cljs.core.get.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k67999,else__4505__auto__);

}
}));

(svg.scales.Identity.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = (function (this__4522__auto__,f__4523__auto__,init__4524__auto__){
var self__ = this;
var this__4522__auto____$1 = this;
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (ret__4525__auto__,p__68004){
var vec__68005 = p__68004;
var k__4526__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68005,(0),null);
var v__4527__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68005,(1),null);
return (f__4523__auto__.cljs$core$IFn$_invoke$arity$3 ? f__4523__auto__.cljs$core$IFn$_invoke$arity$3(ret__4525__auto__,k__4526__auto__,v__4527__auto__) : f__4523__auto__.call(null,ret__4525__auto__,k__4526__auto__,v__4527__auto__));
}),init__4524__auto__,this__4522__auto____$1);
}));

(svg.scales.Identity.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = (function (this__4517__auto__,writer__4518__auto__,opts__4519__auto__){
var self__ = this;
var this__4517__auto____$1 = this;
var pr_pair__4520__auto__ = (function (keyval__4521__auto__){
return cljs.core.pr_sequential_writer(writer__4518__auto__,cljs.core.pr_writer,""," ","",opts__4519__auto__,keyval__4521__auto__);
});
return cljs.core.pr_sequential_writer(writer__4518__auto__,pr_pair__4520__auto__,"#svg.scales.Identity{",", ","}",opts__4519__auto__,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"in","in",-1531184865),self__.in$],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),self__.tick_count],null))], null),self__.__extmap));
}));

(svg.scales.Identity.prototype.cljs$core$IIterable$_iterator$arity$1 = (function (G__67998){
var self__ = this;
var G__67998__$1 = this;
return (new cljs.core.RecordIter((0),G__67998__$1,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994)], null),(cljs.core.truth_(self__.__extmap)?cljs.core._iterator(self__.__extmap):cljs.core.nil_iter())));
}));

(svg.scales.Identity.prototype.cljs$core$IMeta$_meta$arity$1 = (function (this__4500__auto__){
var self__ = this;
var this__4500__auto____$1 = this;
return self__.__meta;
}));

(svg.scales.Identity.prototype.cljs$core$ICloneable$_clone$arity$1 = (function (this__4497__auto__){
var self__ = this;
var this__4497__auto____$1 = this;
return (new svg.scales.Identity(self__.in$,self__.tick_count,self__.__meta,self__.__extmap,self__.__hash));
}));

(svg.scales.Identity.prototype.cljs$core$ICounted$_count$arity$1 = (function (this__4506__auto__){
var self__ = this;
var this__4506__auto____$1 = this;
return (2 + cljs.core.count(self__.__extmap));
}));

(svg.scales.Identity.prototype.cljs$core$IHash$_hash$arity$1 = (function (this__4498__auto__){
var self__ = this;
var this__4498__auto____$1 = this;
var h__4360__auto__ = self__.__hash;
if((!((h__4360__auto__ == null)))){
return h__4360__auto__;
} else {
var h__4360__auto____$1 = (function (coll__4499__auto__){
return (-1402173386 ^ cljs.core.hash_unordered_coll(coll__4499__auto__));
})(this__4498__auto____$1);
(self__.__hash = h__4360__auto____$1);

return h__4360__auto____$1;
}
}));

(svg.scales.Identity.prototype.cljs$core$IEquiv$_equiv$arity$2 = (function (this68000,other68001){
var self__ = this;
var this68000__$1 = this;
return (((!((other68001 == null)))) && ((((this68000__$1.constructor === other68001.constructor)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this68000__$1.in,other68001.in)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this68000__$1.tick_count,other68001.tick_count)) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this68000__$1.__extmap,other68001.__extmap)))))))));
}));

(svg.scales.Identity.prototype.svg$scales$IScale$ = cljs.core.PROTOCOL_SENTINEL);

(svg.scales.Identity.prototype.svg$scales$IScale$i__GT_o$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return cljs.core.identity;
}));

(svg.scales.Identity.prototype.svg$scales$IScale$o__GT_i$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return cljs.core.identity;
}));

(svg.scales.Identity.prototype.svg$scales$IScale$in$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1);
}));

(svg.scales.Identity.prototype.svg$scales$IScale$out$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1);
}));

(svg.scales.Identity.prototype.svg$scales$IScale$ticks$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.scale_ticks(this$__$1,self__.tick_count);
}));

(svg.scales.Identity.prototype.svg$scales$IScale$tick_format_specifier$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.numeric_format_specifier(this$__$1);
}));

(svg.scales.Identity.prototype.cljs$core$IMap$_dissoc$arity$2 = (function (this__4512__auto__,k__4513__auto__){
var self__ = this;
var this__4512__auto____$1 = this;
if(cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),null,new cljs.core.Keyword(null,"in","in",-1531184865),null], null), null),k__4513__auto__)){
return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core._with_meta(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,this__4512__auto____$1),self__.__meta),k__4513__auto__);
} else {
return (new svg.scales.Identity(self__.in$,self__.tick_count,self__.__meta,cljs.core.not_empty(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.__extmap,k__4513__auto__)),null));
}
}));

(svg.scales.Identity.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = (function (this__4509__auto__,k67999){
var self__ = this;
var this__4509__auto____$1 = this;
var G__68008 = k67999;
var G__68008__$1 = (((G__68008 instanceof cljs.core.Keyword))?G__68008.fqn:null);
switch (G__68008__$1) {
case "in":
case "tick-count":
return true;

break;
default:
return cljs.core.contains_QMARK_(self__.__extmap,k67999);

}
}));

(svg.scales.Identity.prototype.cljs$core$IAssociative$_assoc$arity$3 = (function (this__4510__auto__,k__4511__auto__,G__67998){
var self__ = this;
var this__4510__auto____$1 = this;
var pred__68009 = cljs.core.keyword_identical_QMARK_;
var expr__68010 = k__4511__auto__;
if(cljs.core.truth_((pred__68009.cljs$core$IFn$_invoke$arity$2 ? pred__68009.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"in","in",-1531184865),expr__68010) : pred__68009.call(null,new cljs.core.Keyword(null,"in","in",-1531184865),expr__68010)))){
return (new svg.scales.Identity(G__67998,self__.tick_count,self__.__meta,self__.__extmap,null));
} else {
if(cljs.core.truth_((pred__68009.cljs$core$IFn$_invoke$arity$2 ? pred__68009.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),expr__68010) : pred__68009.call(null,new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),expr__68010)))){
return (new svg.scales.Identity(self__.in$,G__67998,self__.__meta,self__.__extmap,null));
} else {
return (new svg.scales.Identity(self__.in$,self__.tick_count,self__.__meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k__4511__auto__,G__67998),null));
}
}
}));

(svg.scales.Identity.prototype.cljs$core$ISeqable$_seq$arity$1 = (function (this__4515__auto__){
var self__ = this;
var this__4515__auto____$1 = this;
return cljs.core.seq(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.MapEntry(new cljs.core.Keyword(null,"in","in",-1531184865),self__.in$,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),self__.tick_count,null))], null),self__.__extmap));
}));

(svg.scales.Identity.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (this__4501__auto__,G__67998){
var self__ = this;
var this__4501__auto____$1 = this;
return (new svg.scales.Identity(self__.in$,self__.tick_count,G__67998,self__.__extmap,self__.__hash));
}));

(svg.scales.Identity.prototype.cljs$core$ICollection$_conj$arity$2 = (function (this__4507__auto__,entry__4508__auto__){
var self__ = this;
var this__4507__auto____$1 = this;
if(cljs.core.vector_QMARK_(entry__4508__auto__)){
return this__4507__auto____$1.cljs$core$IAssociative$_assoc$arity$3(null,cljs.core._nth(entry__4508__auto__,(0)),cljs.core._nth(entry__4508__auto__,(1)));
} else {
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,this__4507__auto____$1,entry__4508__auto__);
}
}));

(svg.scales.Identity.getBasis = (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"in","in",109346662,null),new cljs.core.Symbol(null,"tick-count","tick-count",-1074440775,null)], null);
}));

(svg.scales.Identity.cljs$lang$type = true);

(svg.scales.Identity.cljs$lang$ctorPrSeq = (function (this__4546__auto__){
return (new cljs.core.List(null,"svg.scales/Identity",null,(1),null));
}));

(svg.scales.Identity.cljs$lang$ctorPrWriter = (function (this__4546__auto__,writer__4547__auto__){
return cljs.core._write(writer__4547__auto__,"svg.scales/Identity");
}));

/**
 * Positional factory function for svg.scales/Identity.
 */
svg.scales.__GT_Identity = (function svg$scales$__GT_Identity(in$,tick_count){
return (new svg.scales.Identity(in$,tick_count,null,null,null));
});

/**
 * Factory function for svg.scales/Identity, taking a map of keywords to field values.
 */
svg.scales.map__GT_Identity = (function svg$scales$map__GT_Identity(G__68002){
var extmap__4542__auto__ = (function (){var G__68012 = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__68002,new cljs.core.Keyword(null,"in","in",-1531184865),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,"tick-count","tick-count",1579994994)], 0));
if(cljs.core.record_QMARK_(G__68002)){
return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,G__68012);
} else {
return G__68012;
}
})();
return (new svg.scales.Identity(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(G__68002),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994).cljs$core$IFn$_invoke$arity$1(G__68002),null,cljs.core.not_empty(extmap__4542__auto__),null));
});

svg.scales.linear = (function svg$scales$linear(p__68013,p__68014){
var vec__68015 = p__68013;
var x1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68015,(0),null);
var x2 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68015,(1),null);
var vec__68018 = p__68014;
var y1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68018,(0),null);
var y2 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68018,(1),null);
return (function (x){
return (y1 + (((x - x1) / (x2 - x1)) * (y2 - y1)));
});
});
/**
 * Return a nice domain given a range and preferred interval count 
 */
svg.scales.linear_nice = (function svg$scales$linear_nice(var_args){
var args__4870__auto__ = [];
var len__4864__auto___68056 = arguments.length;
var i__4865__auto___68057 = (0);
while(true){
if((i__4865__auto___68057 < len__4864__auto___68056)){
args__4870__auto__.push((arguments[i__4865__auto___68057]));

var G__68058 = (i__4865__auto___68057 + (1));
i__4865__auto___68057 = G__68058;
continue;
} else {
}
break;
}

var argseq__4871__auto__ = ((((1) < args__4870__auto__.length))?(new cljs.core.IndexedSeq(args__4870__auto__.slice((1)),(0),null)):null);
return svg.scales.linear_nice.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__4871__auto__);
});

(svg.scales.linear_nice.cljs$core$IFn$_invoke$arity$variadic = (function (p__68023,p__68024){
var vec__68025 = p__68023;
var start = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68025,(0),null);
var stop = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68025,(1),null);
var input = vec__68025;
var vec__68028 = p__68024;
var p_count = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68028,(0),null);
var n = (((p_count == null))?(10):p_count);
var step = svg.scales.tick_step(start,stop,n);
if(cljs.core.not((function (){var or__4253__auto__ = isNaN(step);
if(cljs.core.truth_(or__4253__auto__)){
return or__4253__auto__;
} else {
return (step == null);
}
})())){
var step__$1 = svg.scales.tick_step((Math.floor((start / step)) * step),(Math.ceil((stop / step)) * step),n);
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(Math.floor((start / step__$1)) * step__$1),(Math.ceil((stop / step__$1)) * step__$1)], null);
} else {
return input;
}
}));

(svg.scales.linear_nice.cljs$lang$maxFixedArity = (1));

/** @this {Function} */
(svg.scales.linear_nice.cljs$lang$applyTo = (function (seq68021){
var G__68022 = cljs.core.first(seq68021);
var seq68021__$1 = cljs.core.next(seq68021);
var self__4851__auto__ = this;
return self__4851__auto__.cljs$core$IFn$_invoke$arity$variadic(G__68022,seq68021__$1);
}));

svg.scales.nice_identity = (function svg$scales$nice_identity(in$,tick_count){
return svg.scales.__GT_Identity(svg.scales.linear_nice.cljs$core$IFn$_invoke$arity$variadic(in$,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([tick_count], 0)),tick_count);
});

/**
* @constructor
 * @implements {cljs.core.IRecord}
 * @implements {cljs.core.IKVReduce}
 * @implements {cljs.core.IEquiv}
 * @implements {cljs.core.IHash}
 * @implements {cljs.core.ICollection}
 * @implements {cljs.core.ICounted}
 * @implements {cljs.core.ISeqable}
 * @implements {cljs.core.IMeta}
 * @implements {cljs.core.ICloneable}
 * @implements {cljs.core.IPrintWithWriter}
 * @implements {cljs.core.IIterable}
 * @implements {cljs.core.IWithMeta}
 * @implements {cljs.core.IAssociative}
 * @implements {svg.scales.IScale}
 * @implements {cljs.core.IMap}
 * @implements {cljs.core.ILookup}
*/
svg.scales.Linear = (function (in$,out,tick_count,__meta,__extmap,__hash){
this.in$ = in$;
this.out = out;
this.tick_count = tick_count;
this.__meta = __meta;
this.__extmap = __extmap;
this.__hash = __hash;
this.cljs$lang$protocol_mask$partition0$ = 2230716170;
this.cljs$lang$protocol_mask$partition1$ = 139264;
});
(svg.scales.Linear.prototype.cljs$core$ILookup$_lookup$arity$2 = (function (this__4502__auto__,k__4503__auto__){
var self__ = this;
var this__4502__auto____$1 = this;
return this__4502__auto____$1.cljs$core$ILookup$_lookup$arity$3(null,k__4503__auto__,null);
}));

(svg.scales.Linear.prototype.cljs$core$ILookup$_lookup$arity$3 = (function (this__4504__auto__,k68032,else__4505__auto__){
var self__ = this;
var this__4504__auto____$1 = this;
var G__68036 = k68032;
var G__68036__$1 = (((G__68036 instanceof cljs.core.Keyword))?G__68036.fqn:null);
switch (G__68036__$1) {
case "in":
return self__.in$;

break;
case "out":
return self__.out;

break;
case "tick-count":
return self__.tick_count;

break;
default:
return cljs.core.get.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k68032,else__4505__auto__);

}
}));

(svg.scales.Linear.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = (function (this__4522__auto__,f__4523__auto__,init__4524__auto__){
var self__ = this;
var this__4522__auto____$1 = this;
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (ret__4525__auto__,p__68037){
var vec__68038 = p__68037;
var k__4526__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68038,(0),null);
var v__4527__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__68038,(1),null);
return (f__4523__auto__.cljs$core$IFn$_invoke$arity$3 ? f__4523__auto__.cljs$core$IFn$_invoke$arity$3(ret__4525__auto__,k__4526__auto__,v__4527__auto__) : f__4523__auto__.call(null,ret__4525__auto__,k__4526__auto__,v__4527__auto__));
}),init__4524__auto__,this__4522__auto____$1);
}));

(svg.scales.Linear.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = (function (this__4517__auto__,writer__4518__auto__,opts__4519__auto__){
var self__ = this;
var this__4517__auto____$1 = this;
var pr_pair__4520__auto__ = (function (keyval__4521__auto__){
return cljs.core.pr_sequential_writer(writer__4518__auto__,cljs.core.pr_writer,""," ","",opts__4519__auto__,keyval__4521__auto__);
});
return cljs.core.pr_sequential_writer(writer__4518__auto__,pr_pair__4520__auto__,"#svg.scales.Linear{",", ","}",opts__4519__auto__,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"in","in",-1531184865),self__.in$],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"out","out",-910545517),self__.out],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),self__.tick_count],null))], null),self__.__extmap));
}));

(svg.scales.Linear.prototype.cljs$core$IIterable$_iterator$arity$1 = (function (G__68031){
var self__ = this;
var G__68031__$1 = this;
return (new cljs.core.RecordIter((0),G__68031__$1,3,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Keyword(null,"out","out",-910545517),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994)], null),(cljs.core.truth_(self__.__extmap)?cljs.core._iterator(self__.__extmap):cljs.core.nil_iter())));
}));

(svg.scales.Linear.prototype.cljs$core$IMeta$_meta$arity$1 = (function (this__4500__auto__){
var self__ = this;
var this__4500__auto____$1 = this;
return self__.__meta;
}));

(svg.scales.Linear.prototype.cljs$core$ICloneable$_clone$arity$1 = (function (this__4497__auto__){
var self__ = this;
var this__4497__auto____$1 = this;
return (new svg.scales.Linear(self__.in$,self__.out,self__.tick_count,self__.__meta,self__.__extmap,self__.__hash));
}));

(svg.scales.Linear.prototype.cljs$core$ICounted$_count$arity$1 = (function (this__4506__auto__){
var self__ = this;
var this__4506__auto____$1 = this;
return (3 + cljs.core.count(self__.__extmap));
}));

(svg.scales.Linear.prototype.cljs$core$IHash$_hash$arity$1 = (function (this__4498__auto__){
var self__ = this;
var this__4498__auto____$1 = this;
var h__4360__auto__ = self__.__hash;
if((!((h__4360__auto__ == null)))){
return h__4360__auto__;
} else {
var h__4360__auto____$1 = (function (coll__4499__auto__){
return (1472658296 ^ cljs.core.hash_unordered_coll(coll__4499__auto__));
})(this__4498__auto____$1);
(self__.__hash = h__4360__auto____$1);

return h__4360__auto____$1;
}
}));

(svg.scales.Linear.prototype.cljs$core$IEquiv$_equiv$arity$2 = (function (this68033,other68034){
var self__ = this;
var this68033__$1 = this;
return (((!((other68034 == null)))) && ((((this68033__$1.constructor === other68034.constructor)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this68033__$1.in,other68034.in)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this68033__$1.out,other68034.out)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this68033__$1.tick_count,other68034.tick_count)) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this68033__$1.__extmap,other68034.__extmap)))))))))));
}));

(svg.scales.Linear.prototype.svg$scales$IScale$ = cljs.core.PROTOCOL_SENTINEL);

(svg.scales.Linear.prototype.svg$scales$IScale$i__GT_o$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.linear(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1),new cljs.core.Keyword(null,"out","out",-910545517).cljs$core$IFn$_invoke$arity$1(this$__$1));
}));

(svg.scales.Linear.prototype.svg$scales$IScale$o__GT_i$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.linear(new cljs.core.Keyword(null,"out","out",-910545517).cljs$core$IFn$_invoke$arity$1(this$__$1),new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1));
}));

(svg.scales.Linear.prototype.svg$scales$IScale$in$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1);
}));

(svg.scales.Linear.prototype.svg$scales$IScale$out$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return new cljs.core.Keyword(null,"out","out",-910545517).cljs$core$IFn$_invoke$arity$1(this$__$1);
}));

(svg.scales.Linear.prototype.svg$scales$IScale$ticks$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.scale_ticks(this$__$1,self__.tick_count);
}));

(svg.scales.Linear.prototype.svg$scales$IScale$tick_format_specifier$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.numeric_format_specifier(this$__$1);
}));

(svg.scales.Linear.prototype.cljs$core$IMap$_dissoc$arity$2 = (function (this__4512__auto__,k__4513__auto__){
var self__ = this;
var this__4512__auto____$1 = this;
if(cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),null,new cljs.core.Keyword(null,"out","out",-910545517),null,new cljs.core.Keyword(null,"in","in",-1531184865),null], null), null),k__4513__auto__)){
return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core._with_meta(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,this__4512__auto____$1),self__.__meta),k__4513__auto__);
} else {
return (new svg.scales.Linear(self__.in$,self__.out,self__.tick_count,self__.__meta,cljs.core.not_empty(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.__extmap,k__4513__auto__)),null));
}
}));

(svg.scales.Linear.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = (function (this__4509__auto__,k68032){
var self__ = this;
var this__4509__auto____$1 = this;
var G__68041 = k68032;
var G__68041__$1 = (((G__68041 instanceof cljs.core.Keyword))?G__68041.fqn:null);
switch (G__68041__$1) {
case "in":
case "out":
case "tick-count":
return true;

break;
default:
return cljs.core.contains_QMARK_(self__.__extmap,k68032);

}
}));

(svg.scales.Linear.prototype.cljs$core$IAssociative$_assoc$arity$3 = (function (this__4510__auto__,k__4511__auto__,G__68031){
var self__ = this;
var this__4510__auto____$1 = this;
var pred__68042 = cljs.core.keyword_identical_QMARK_;
var expr__68043 = k__4511__auto__;
if(cljs.core.truth_((pred__68042.cljs$core$IFn$_invoke$arity$2 ? pred__68042.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"in","in",-1531184865),expr__68043) : pred__68042.call(null,new cljs.core.Keyword(null,"in","in",-1531184865),expr__68043)))){
return (new svg.scales.Linear(G__68031,self__.out,self__.tick_count,self__.__meta,self__.__extmap,null));
} else {
if(cljs.core.truth_((pred__68042.cljs$core$IFn$_invoke$arity$2 ? pred__68042.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"out","out",-910545517),expr__68043) : pred__68042.call(null,new cljs.core.Keyword(null,"out","out",-910545517),expr__68043)))){
return (new svg.scales.Linear(self__.in$,G__68031,self__.tick_count,self__.__meta,self__.__extmap,null));
} else {
if(cljs.core.truth_((pred__68042.cljs$core$IFn$_invoke$arity$2 ? pred__68042.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),expr__68043) : pred__68042.call(null,new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),expr__68043)))){
return (new svg.scales.Linear(self__.in$,self__.out,G__68031,self__.__meta,self__.__extmap,null));
} else {
return (new svg.scales.Linear(self__.in$,self__.out,self__.tick_count,self__.__meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k__4511__auto__,G__68031),null));
}
}
}
}));

(svg.scales.Linear.prototype.cljs$core$ISeqable$_seq$arity$1 = (function (this__4515__auto__){
var self__ = this;
var this__4515__auto____$1 = this;
return cljs.core.seq(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.MapEntry(new cljs.core.Keyword(null,"in","in",-1531184865),self__.in$,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,"out","out",-910545517),self__.out,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),self__.tick_count,null))], null),self__.__extmap));
}));

(svg.scales.Linear.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (this__4501__auto__,G__68031){
var self__ = this;
var this__4501__auto____$1 = this;
return (new svg.scales.Linear(self__.in$,self__.out,self__.tick_count,G__68031,self__.__extmap,self__.__hash));
}));

(svg.scales.Linear.prototype.cljs$core$ICollection$_conj$arity$2 = (function (this__4507__auto__,entry__4508__auto__){
var self__ = this;
var this__4507__auto____$1 = this;
if(cljs.core.vector_QMARK_(entry__4508__auto__)){
return this__4507__auto____$1.cljs$core$IAssociative$_assoc$arity$3(null,cljs.core._nth(entry__4508__auto__,(0)),cljs.core._nth(entry__4508__auto__,(1)));
} else {
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,this__4507__auto____$1,entry__4508__auto__);
}
}));

(svg.scales.Linear.getBasis = (function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"in","in",109346662,null),new cljs.core.Symbol(null,"out","out",729986010,null),new cljs.core.Symbol(null,"tick-count","tick-count",-1074440775,null)], null);
}));

(svg.scales.Linear.cljs$lang$type = true);

(svg.scales.Linear.cljs$lang$ctorPrSeq = (function (this__4546__auto__){
return (new cljs.core.List(null,"svg.scales/Linear",null,(1),null));
}));

(svg.scales.Linear.cljs$lang$ctorPrWriter = (function (this__4546__auto__,writer__4547__auto__){
return cljs.core._write(writer__4547__auto__,"svg.scales/Linear");
}));

/**
 * Positional factory function for svg.scales/Linear.
 */
svg.scales.__GT_Linear = (function svg$scales$__GT_Linear(in$,out,tick_count){
return (new svg.scales.Linear(in$,out,tick_count,null,null,null));
});

/**
 * Factory function for svg.scales/Linear, taking a map of keywords to field values.
 */
svg.scales.map__GT_Linear = (function svg$scales$map__GT_Linear(G__68035){
var extmap__4542__auto__ = (function (){var G__68045 = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__68035,new cljs.core.Keyword(null,"in","in",-1531184865),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,"out","out",-910545517),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994)], 0));
if(cljs.core.record_QMARK_(G__68035)){
return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,G__68045);
} else {
return G__68045;
}
})();
return (new svg.scales.Linear(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(G__68035),new cljs.core.Keyword(null,"out","out",-910545517).cljs$core$IFn$_invoke$arity$1(G__68035),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994).cljs$core$IFn$_invoke$arity$1(G__68035),null,cljs.core.not_empty(extmap__4542__auto__),null));
});

svg.scales.nice_linear = (function svg$scales$nice_linear(in$,out,tick_count){
return svg.scales.__GT_Linear(svg.scales.linear_nice.cljs$core$IFn$_invoke$arity$variadic(in$,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([tick_count], 0)),out,tick_count);
});

//# sourceMappingURL=svg.scales.js.map
