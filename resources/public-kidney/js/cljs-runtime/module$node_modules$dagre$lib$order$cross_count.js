shadow$provide.module$node_modules$dagre$lib$order$cross_count=function(global,require,module,exports){function twoLayerCrossCount(g,northLayer,southLayer){var southPos=_.zipObject(southLayer,_.map(southLayer,function(v,i){return i}));northLayer=_.flatten(_.map(northLayer,function(v){return _.sortBy(_.map(g.outEdges(v),function(e){return{pos:southPos[e.w],weight:g.edge(e).weight}}),"pos")}),!0);for(var firstIndex=1;firstIndex<southLayer.length;)firstIndex<<=1;southLayer=2*firstIndex-1;--firstIndex;
var tree=_.map(Array(southLayer),function(){return 0}),cc=0;_.forEach(northLayer.forEach(function(entry){var index=entry.pos+firstIndex;tree[index]+=entry.weight;for(var weightSum=0;0<index;)index%2&&(weightSum+=tree[index+1]),index=index-1>>1,tree[index]+=entry.weight;cc+=entry.weight*weightSum}));return cc}var _=require("module$node_modules$dagre$lib$lodash");module.exports=function(g,layering){for(var cc=0,i=1;i<layering.length;++i)cc+=twoLayerCrossCount(g,layering[i-1],layering[i]);return cc}}
//# sourceMappingURL=module$node_modules$dagre$lib$order$cross_count.js.map
